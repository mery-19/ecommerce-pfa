@model IEnumerable<Ecommerce.Models.Commande>

@{
    Layout = "~/Views/Shared/_ClientDashboard.cshtml";
}

<div class="margin-top">
    <h2>Mes commandes</h2>

    <table class="table" id="commandes-table">
        <thead>
            <tr>
                <th>
                    Id
                </th>
                <th>
                    Mode de livraison
                </th>
                <th>
                    Type de paiement
                </th>

                <th>
                    @Html.DisplayNameFor(model => model.date_ajout)
                </th>
                <th>
                    Status
                </th>
                <th>

                </th>
            </tr>
        </thead>

        <tbody>
            @foreach (var item in Model)
            {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.id)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ModeLivraison.libele)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ModePaiement.libele)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.date_ajout)
                </td>
                <td>
                    @if (item.StatusCommande.id == 1)
                    {
                        <span class="btn btn-primary w-100">
                            @Html.DisplayFor(modelItem => item.StatusCommande.libele)
                        </span>
                    }
                    else if (item.StatusCommande.id == 2)
                    {
                        <span class="btn btn-success w-100">
                            @Html.DisplayFor(modelItem => item.StatusCommande.libele)
                        </span>
                    }
                </td>

                <td>
                    @*                        @Html.ActionLink("Details", "Details", new { id = item.id }, new { @class = "btn btn-save text-white btn-details-commande" })
                    *@
                    <a href="#" id="@item.id" class="btn btn-save text-white btn-details-commande" data-toggle="modal" data-target="#exampleModal">Détails</a>

                </td>
            </tr>
            }
        </tbody>
    </table>
</div>


<div style="z-index:9999;">

    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" >
        <div class="vertical-alignment-helper">
            <div class="modal-dialog modal-lg vertical-align-center" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Les produits commandés</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <table class="mesProduits normal-table w-100">
                            
                        </table>
                        <h4 class="mt-3">Prix total: <span class="prix font-rubik"></span></h4>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermé</button>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>
